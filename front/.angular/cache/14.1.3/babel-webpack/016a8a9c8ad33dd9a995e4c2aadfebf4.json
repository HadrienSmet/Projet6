{"ast":null,"code":"import { catchError, of, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/sauces.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/progress-spinner\";\n\nfunction SauceListComponent_mat_spinner_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nfunction SauceListComponent_ng_container_1_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No sauces to display! \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SauceListComponent_ng_container_1_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 3);\n    i0.ɵɵtext(1, \"THE SAUCES\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SauceListComponent_ng_container_1_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function SauceListComponent_ng_container_1_div_3_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const sauce_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.onClickSauce(sauce_r7._id));\n    });\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const sauce_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", sauce_r7.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, sauce_r7.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Heat: \", sauce_r7.heat, \"/10\");\n  }\n}\n\nfunction SauceListComponent_ng_container_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, SauceListComponent_ng_container_1_div_3_div_1_Template, 7, 5, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const sauces_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", sauces_r2);\n  }\n}\n\nfunction SauceListComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SauceListComponent_ng_container_1_p_1_Template, 2, 0, \"p\", 0);\n    i0.ɵɵtemplate(2, SauceListComponent_ng_container_1_p_2_Template, 2, 0, \"p\", 1);\n    i0.ɵɵtemplate(3, SauceListComponent_ng_container_1_div_3_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const sauces_r2 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.loading && sauces_r2.length <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.loading && sauces_r2.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.loading && sauces_r2.length > 0);\n  }\n}\n\nexport class SauceListComponent {\n  constructor(sauce, router) {\n    this.sauce = sauce;\n    this.router = router;\n  }\n\n  ngOnInit() {\n    this.loading = true;\n    this.sauces$ = this.sauce.sauces$.pipe(tap(() => {\n      this.loading = false;\n      this.errorMsg = '';\n    }), catchError(error => {\n      this.errorMsg = JSON.stringify(error);\n      this.loading = false;\n      return of([]);\n    }));\n    this.sauce.getSauces();\n  }\n\n  onClickSauce(id) {\n    this.router.navigate(['sauce', id]);\n  }\n\n}\n\nSauceListComponent.ɵfac = function SauceListComponent_Factory(t) {\n  return new (t || SauceListComponent)(i0.ɵɵdirectiveInject(i1.SaucesService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nSauceListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SauceListComponent,\n  selectors: [[\"app-sauce-list\"]],\n  decls: 3,\n  vars: 4,\n  consts: [[4, \"ngIf\"], [\"class\", \"list-title\", 4, \"ngIf\"], [\"class\", \"sauce-list\", 4, \"ngIf\"], [1, \"list-title\"], [1, \"sauce-list\"], [\"class\", \"sauce-list-item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"sauce-list-item\", 3, \"click\"], [\"alt\", \"Hot sauce bottle\", 3, \"src\"]],\n  template: function SauceListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SauceListComponent_mat_spinner_0_Template, 1, 0, \"mat-spinner\", 0);\n      i0.ɵɵtemplate(1, SauceListComponent_ng_container_1_Template, 4, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(2, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx.sauces$));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.MatSpinner, i3.AsyncPipe, i3.UpperCasePipe],\n  styles: [\".sauce-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: wrap;\\n}\\n\\n.sauce-list-item[_ngcontent-%COMP%] {\\n  text-align: center;\\n  width: 220px;\\n  transition: all 0.1s ease-in-out;\\n  cursor: pointer;\\n}\\n\\n.sauce-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-width: 200px;\\n  max-height: 250px;\\n}\\n\\n.sauce-list-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-weight: 500;\\n}\\n\\n.sauce-list-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.sauce-list-item[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.05);\\n  box-shadow: 1px 1px 20px rgba(120, 120, 120, 0.3);\\n}\\n\\n.list-title[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin: 2em auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhdWNlLWxpc3QuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGZvcm1hdGlvbiUyMGNvZGFnZVxcZm9ybWF0aW9uT3BlbkNsYXNzcm9vbXNcXFByb2pldDZcXFBJSVFVQU5URVxcV2ViLURldmVsb3Blci1QNlxcc3JjXFxhcHBcXHNhdWNlLWxpc3RcXHNhdWNlLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFZQSxnQ0FBQTtFQUNBLGVBQUE7QUNWRjs7QURGRTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNJSjs7QURGRTtFQUNFLFNBQUE7RUFDQSxnQkFBQTtBQ0lKOztBREZFO0VBQ0UsU0FBQTtBQ0lKOztBREFFO0VBQ0Usc0JBQUE7RUFDQSxpREFBQTtBQ0VKOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNhdWNlLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2F1Y2UtbGlzdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbn1cclxuXHJcbi5zYXVjZS1saXN0LWl0ZW0ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB3aWR0aDogMjIwcHg7XHJcbiAgaW1nIHtcclxuICAgIG1heC13aWR0aDogMjAwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiAyNTBweDtcclxuICB9XHJcbiAgaDQge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICB9XHJcbiAgcCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG4gIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2UtaW4tb3V0O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICAmOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XHJcbiAgICBib3gtc2hhZG93OiAxcHggMXB4IDIwcHggcmdiYSgxMjAsIDEyMCwgMTIwLCAwLjMpO1xyXG4gIH1cclxufVxyXG5cclxuLmxpc3QtdGl0bGUge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW46IDJlbSBhdXRvO1xyXG59XHJcbiIsIi5zYXVjZS1saXN0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cblxuLnNhdWNlLWxpc3QtaXRlbSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgd2lkdGg6IDIyMHB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLnNhdWNlLWxpc3QtaXRlbSBpbWcge1xuICBtYXgtd2lkdGg6IDIwMHB4O1xuICBtYXgtaGVpZ2h0OiAyNTBweDtcbn1cbi5zYXVjZS1saXN0LWl0ZW0gaDQge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4uc2F1Y2UtbGlzdC1pdGVtIHAge1xuICBtYXJnaW46IDA7XG59XG4uc2F1Y2UtbGlzdC1pdGVtOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgYm94LXNoYWRvdzogMXB4IDFweCAyMHB4IHJnYmEoMTIwLCAxMjAsIDEyMCwgMC4zKTtcbn1cblxuLmxpc3QtdGl0bGUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMmVtIGF1dG87XG59Il19 */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,UAAT,EAAiCC,EAAjC,EAAqCC,GAArC,QAAgD,MAAhD;;;;;;;;;ICFAC;;;;;;IAEEA;IACEA;IACFA;;;;;;IACAA;IAA4DA;IAAUA;;;;;;;;IAEpEA;IAA0DA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAT;IAAgC,CAAhC;IACxDA;IACAA;IAAIA;;IAA4BA;IAChCA;IAAGA;IAAyBA;;;;;IAFAA;IAAAA;IACxBA;IAAAA;IACDA;IAAAA;;;;;;IAJPA;IACEA;IAKFA;;;;;IALiDA;IAAAA;;;;;;IANnDA;IACEA;IAGAA;IACAA;IAOFA;;;;;;IAXMA;IAAAA;IAGmBA;IAAAA;IACEA;IAAAA;;;;ADK3B,OAAM,MAAOC,kBAAP,CAAyB;EAM7BC,YAAoBC,KAApB,EACoBC,MADpB,EACkC;IADd;IACA;EAAmB;;EAEvCC,QAAQ;IACN,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKC,OAAL,GAAe,KAAKJ,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CACbT,GAAG,CAAC,MAAK;MACP,KAAKO,OAAL,GAAe,KAAf;MACA,KAAKG,QAAL,GAAgB,EAAhB;IACD,CAHE,CADU,EAKbZ,UAAU,CAACa,KAAK,IAAG;MACjB,KAAKD,QAAL,GAAgBE,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAhB;MACA,KAAKJ,OAAL,GAAe,KAAf;MACA,OAAOR,EAAE,CAAC,EAAD,CAAT;IACD,CAJS,CALG,CAAf;IAWA,KAAKK,KAAL,CAAWU,SAAX;EACD;;EAEDC,YAAY,CAACC,EAAD,EAAW;IACrB,KAAKX,MAAL,CAAYY,QAAZ,CAAqB,CAAC,OAAD,EAAUD,EAAV,CAArB;EACD;;AA3B4B;;;mBAAlBd,oBAAkBD;AAAA;;;QAAlBC;EAAkBgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX/BrB;MACAA;;;;;MADcA;MACCA;MAAAA","names":["catchError","of","tap","i0","SauceListComponent","constructor","sauce","router","ngOnInit","loading","sauces$","pipe","errorMsg","error","JSON","stringify","getSauces","onClickSauce","id","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\User\\Desktop\\Hadrien\\formation codage\\formationOpenClassrooms\\Projet6\\PIIQUANTE\\Web-Developer-P6\\src\\app\\sauce-list\\sauce-list.component.ts","C:\\Users\\User\\Desktop\\Hadrien\\formation codage\\formationOpenClassrooms\\Projet6\\PIIQUANTE\\Web-Developer-P6\\src\\app\\sauce-list\\sauce-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SaucesService } from '../services/sauces.service';\r\nimport { catchError, Observable, of, tap } from 'rxjs';\r\nimport { Sauce } from '../models/Sauce.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-sauce-list',\r\n  templateUrl: './sauce-list.component.html',\r\n  styleUrls: ['./sauce-list.component.scss']\r\n})\r\nexport class SauceListComponent implements OnInit {\r\n\r\n  sauces$!: Observable<Sauce[]>;\r\n  loading!: boolean;\r\n  errorMsg!: string;\r\n\r\n  constructor(private sauce: SaucesService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.sauces$ = this.sauce.sauces$.pipe(\r\n      tap(() => {\r\n        this.loading = false;\r\n        this.errorMsg = '';\r\n      }),\r\n      catchError(error => {\r\n        this.errorMsg = JSON.stringify(error);\r\n        this.loading = false;\r\n        return of([]);\r\n      })\r\n    );\r\n    this.sauce.getSauces();\r\n  }\r\n\r\n  onClickSauce(id: string) {\r\n    this.router.navigate(['sauce', id]);\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<ng-container *ngIf=\"sauces$ | async as sauces\">\r\n  <p *ngIf=\"!loading && sauces.length <= 0\">\r\n    No sauces to display!\r\n  </p>\r\n  <p class=\"list-title\" *ngIf=\"!loading && sauces.length > 0\">THE SAUCES</p>\r\n  <div class=\"sauce-list\" *ngIf=\"!loading && sauces.length  > 0\">\r\n    <div class=\"sauce-list-item\" *ngFor=\"let sauce of sauces\" (click)=\"onClickSauce(sauce._id)\">\r\n      <img alt=\"Hot sauce bottle\" [src]=\"sauce.imageUrl\">\r\n      <h4>{{ sauce.name | uppercase }}</h4>\r\n      <p>Heat: {{ sauce.heat }}/10</p>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n"]},"metadata":{},"sourceType":"module"}